# >>>> MAIN VARS
# //// i3

set $mdi		Mod1
set $wni		Mod4
set $mod		bindsym Mod1
set $win		bindsym Mod4
set $mrl		bindsym --release Mod1
set $wlw		bindsym --whole-window Mod4
set $exn		exec --no-startup-id
set $exs		exec --no-startup-id ~/scr
set $ena		exec_always --no-startup-id
set $lch		exec ~/scr/i3launch
set $tf			title_format
set $fw			for_window
set $mk1		_W1
set $mk2		_W2
set $mk3		_W3
set $mk4		_W4
set $mrk1		mark _W1
set $mrk2		mark _W2
set $mrk3		mark _W3
set $mrk4		mark _W4
set $stm1		mark _sticky_1
set $stm2		mark _sticky_2
set $stm3		mark _sticky_3
set $mvm1		move to mark _W1
set $mvm2		move to mark _W2
set $mvm3		move to mark _W3
set $mvm4		move to mark _W4
set $flen		floating enable
set $fldi		floating disable
set $brnr		border normal
set $mvcn		move position center

# //// WORKSPACE NAMES

set $ws1 1
set $ws2 2
set $ws3 3
set $ws4 4
set $ws5 5
set $ws6 6
set $ws7 7
set $ws8 8
set $ws9 9
set $ws10 10

# //// COLORS

set_from_resource $blk	color0
set_from_resource $red	color1
set_from_resource $grn	color2
set_from_resource $ylw	color3
set_from_resource $blu	color4
set_from_resource $gnt	color5
set_from_resource $cyn	color6
set_from_resource $wht	color7
set_from_resource $gry	color8
set $t ff

# //// APPS

set $term		urxvtc
set $edit		exec --no-startup-id ~/scr/opengvim
set $brow		google-chrome-beta
set $viva		vivaldi-stable
set $gfm		thunar
set $brightinc	light -A 10
set $brightdec	light -U 10
set $mediaw		534
set $mediaw2	534
set $mediah		322
set $mediah2	422

# >>>> DECORATIONS
# COLORS
# class					brdr bkgr text indi chlb
client.focused			$blk $blk $wht $blu $blu
client.focused_inactive	$blu $blu $wht $blu $blu
client.unfocused		$blu $blu $wht $blu $blu
client.urgent			$red $red $wht $red $red
client.placeholder		$blk $blk $wht $blu $blu
#client.background		$blk

# >>>> BAR
bar {
	i3bar_command i3bar -t
	status_command i3blocks -c ~/$scr/i3blocks.conf
#	status_command i3blocks
#	position top
	id bar-1
	tray_output $nat
#	output $nat

	bindsym button4 nop
	bindsym button5 nop
	font pango:$font1,$font2 $fonts

	colors {
	background $blu
#						brdr bkgr text
	focused_workspace	$blu $blu $blk
	active_workspace	$blu $blu $wht
	inactive_workspace	$blu $blu $wht
	binding_mode		$ylw $ylw $blk
	urgent_workspace	$red $red $blk
	}
}

# >>>> MOD1 BINDINGS
# //// Misc

floating_modifier	$mdi

$mod+Escape		mode "SHUTDOWN"
mode "SHUTDOWN" {
	bindsym l	$exs/i3exit lock, mode "default"
	bindsym s	$exs/i3exit suspend, mode "default"
	bindsym u	$exs/i3exit switch_user, mode "default"
	bindsym e	$exs/i3exit logout, mode "default"
	bindsym h	$exs/i3exit hibernate, mode "default"
	bindsym r	$exs/i3exit reboot, mode "default"
	bindsym x	$exs/i3exit shutdown, mode "default"

	#exit system mode: "Enter" or "Escape"
	bindsym		Return mode "default"
	bindsym		Escape mode "default"
}

$mod+space			focus mode_toggle
$mod+Shift+space	floating toggle

$mod+Ctrl+Right		workspace next

$mod+Ctrl+Left		workspace prev

bindsym Print		$exs/screenshot

# //// Numbers

$mod+1				workspace $ws1
$mod+Shift+1		move container to workspace $ws1; workspace $ws1

$mod+2				workspace $ws2
$mod+Shift+2		move container to workspace $ws2; workspace $ws2

$mod+3				workspace $ws3
$mod+Shift+3		move container to workspace $ws3; workspace $ws3

$mod+4				workspace $ws4
$mod+Shift+4		move container to workspace $ws4; workspace $ws4

$mod+5				workspace $ws5
$mod+Shift+5		move container to workspace $ws5; workspace $ws5

$mod+6				workspace $ws6
$mod+Shift+6		move container to workspace $ws6; workspace $ws6

$mod+7				workspace $ws7
$mod+Shift+7		move container to workspace $ws7; workspace $ws7

$mod+8				workspace $ws8
$mod+Shift+8		move container to workspace $ws8; workspace $ws8

$mod+9				workspace $ws9
$mod+Shift+9		move container to workspace $ws9; workspace $ws9

$mod+0				workspace $ws10
$mod+Shift+0		move container to workspace $ws10; workspace $ws10

$mod+minus			scratchpad show
$mod+Shift+minus	move scratchpad

# //// 1st Row

$mod+Tab			focus right
$mod+Shift+Tab		focus left

$mod+q				$lch '$term -name CALC -e R' $mk2
$mod+Shift+q		kill

$mod+w				$lch '$brow --new-window --app=https://ww2.watch-series.co/' $mk1

$mod+e				layout toggle tabbed split

$mod+r				$exn $term -name RSS -e newsboat
$mod+Shift+r		restart

$mod+t				$exs/mkwalrando

$mod+y				resize shrink width 5 px or 5 ppt
$mod+Shift+y		$lch '$brow --new-window --app=https://www.youtube.com/' $mk1

$mod+u				resize shrink height 5 px or 5 ppt
$mod+Shift+u		$lch '$brow --new-window \
						--app=https://outlook.office365.com/owa/?realm=soton.ac.uk' \
						$mk3

$mod+i				resize grow height 5 px or 5 ppt
$mod+Shift+i		$lch '$brow --new-window --app=https://www.bbc.co.uk/iplayer/' $mk1

$mod+o				resize grow width 5 px or 5 ppt

$mod+p				$exs/i3media togg
$mod+Shift+p		$exs/screenshot

$mod+bracketright	$exs/i3media next

$mod+bracketleft	$exs/i3media prev

$mod+backslash		$exs/i3media stop

# //// 2nd Row

$mod+a				focus parent
$mod+Shift+a		focus child
#$mod+Shift+a		$lch '$brow --new-window --app=https://www.funimation.com/' $mk1

$mod+s				$lch '$term -name MUSIC -e ncmpcpp' $mk1 fl
$mod+Shift+s		$lch spotify $mk1 fl
$mod+Ctrl+s			sticky toggle

$mod+d				$exn rofi -show drun
$mod+Shift+d		$exs/i3menu -run

$mod+f				$lch '$term -name MEDIA -e ranger' $mk2
$mod+Shift+f		fullscreen toggle

$mod+g				split toggle
$mod+Shift+g		$lch '$term -name GRIVE -e bash ~/$scr/grivesync' $mk2 fl

$mod+h				$exs/i3viswiz left
$mod+Shift+h		$exs/i3move left

$mod+j				$exs/i3viswiz down
$mod+Shift+j		$exs/i3move down

$mod+k				$exs/i3viswiz up
$mod+Shift+k		$exs/i3move up

$mod+l				$exs/i3viswiz right
$mod+Shift+l		$exs/i3move right

$mod+semicolon		$exn redshift -P -O 3700

$mod+apostrophe		$exn redshift -x

$mod+Return			$exn $term -name URXVTC
$mod+Shift+Return	$exn $term -name FILES -e ranger

# //// 3rd Row

$mod+z				$exn $brow --new-window --app=https://docs.google.com/document/u/0/

$mod+x				$exn $brow --new-window --app=https://docs.google.com/spreadsheets/u/0/

$mod+c				exec $viva
$mod+Shift+c		$exs/xtheme

$mod+v				$lch '$term -name VIS -e vis' $mk1
$mod+Shift+v		$lch 'projectM-pulseaudio' $mk1

$mod+b				$lch '$term -name BIB -e vim $home/Drive/global.bib' $mk2
$mod+Shift+b		bar mode toggle

$mod+n				$lch '$brow --new-window --app=https://www.netflix.com/' $mk1
$mod+Shift+n		$lch '$brow --new-window \
						--app=https://www.amazon.co.uk/Amazon-Video/b/?node=3010085031&ref=atv_surl_aiv' \
						$mk1

$mod+m				$exn $brow --new-window --app=https://docs.google.com/presentation/u/0/
$mod+Shift+m		$lch '$brow --new-window --app=https://play.google.com/movies/' $mk1

$mod+comma			$exn "pactl set-sink-volume 0 -2%; ~/$scr/notify_volume"

$mod+period			$exn "pactl set-sink-volume 0 +2%; ~/$scr/notify_volume"

# >>>> MOD4 BINDINGS
# //// Misc

$wlw+button1		$exn i3-input -F "[con_id=__focused__] mark _sticky_%s"

$wlw+button3		kill

# //// Numbers

$win+0				[title="placeholder"] kill

$win+1				$edit ~/.config/i3/main
$win+Shift+1		$exs/i3-sticky-create 1

$win+2				$edit ~/.config/i3/vars
$win+Shift+2		$exs/i3-sticky-create 2

$win+3				$edit ~/.bashrc
$win+Shift+3		$exs/i3-sticky-create 3

$win+4				$edit ~/.vimrc

$win+5				$edit ~/.config/ranger/rc.conf

$win+6				$edit ~/.config/ranger/rifle.conf

$win+7				$edit ~/$scr/mkblocksconf

# //// 1st Row

$win+q				floating disable, $mvm1, [con_mark=$mk1] focus, focus right

$win+w				floating disable, $mvm2, [con_mark=$mk2] focus, focus right
$win+Shift+w		$lch '$term -name LAYOUT_EDITOR -e bash ~/$scr/wsloget' $mk2

$win+e				floating disable, $mvm3, [con_mark=$mk3] focus, focus right

$win+r				$lch '$term -name RTV -e rtv' $mk2

$win+t				$exn compton
$win+Shift+t		$exn pkill compton

$win+y				[con_mark=$mk1] resize shrink width 5 px or 5 ppt, resize shrink height 5 px or 5 ppt
$win+Shift+y		gaps inner current set 0; gaps outer current set 0

$win+u				[con_mark=$mk1] resize set $mediaw2 $mediah2
$win+Shift+u		gaps inner current minus 5; gaps outer current minus 10

$win+i				[con_mark=$mk1] resize set $mediaw $mediah
$win+Shift+i		gaps inner current plus 5; gaps outer current plus 10

$win+o				[con_mark=$mk1] resize grow width 5 px or 5 ppt, resize grow height 5 px or 5 ppt
$win+Shift+o		gaps inner current set 10; gaps outer current set 20

# //// 2nd Row

$win+Shift+a		$exs/wsloapp

$win+s				$lch slack $mk3
$win+Shift+s		$exs/i3-sticky-toggle

$win+d				move workspace to output $hdm

$win+f				$lch thunar $mk2
$win+Shift+f		$lch 'gksu thunar' $mk2

$win+g				$lch '$term -name GITREPOUPDATE -e bash ~/$scr/gitcommit' $mk2

$win+h				focus left
$win+Shift+h		move left

$win+j				focus down
$win+Shift+j		move down

$win+k				focus up
$win+Shift+k		move up

$win+l				focus right
$win+Shift+l		move right

$win+Return			$exn xterm
$win+Shift+Return	$exn $term -name FILES_ADMIN -e sudo ranger

# //// 3rd Row

$win+x				$exn "pactl set-sink-mute 0 toggle; ~/$scr/notify_volume"

$win+c				$lch '$term -name CALENDAR -e vim "+Calendar -view=day"' $mk2
$win+Shift+c		$exs/reloadconfs

$win+v				move workspace to output $vga

$win+b				$lch '$term -name BASHMOUNT -e bashmount' $mk2

$win+n				move workspace to output $nat

$win+m				$exs/multimon

$win+comma			$exn "$brightdec; ~/$scr/notify_brightness"

$win+period			$exn "$brightinc; ~/$scr/notify_brightness"

# >>>> FOR_WINDOW
# //// GLOBAL

#new_window pixel 1
#new_float normal 1
hide_edge_borders true
#focus_follows_mouse no
focus_wrapping force
workspace_auto_back_and_forth yes
$fw [class="^.*"] border normal 2
$fw [urgent=latest] focus

# //// FLOATERS

$fw [title="About Pale Moon"]		 		$flen
$fw [title="alsamixer"]			 			$flen
$fw [class="Arandr"]						$flen
$fw [class="Clipgrab"]						$flen
$fw [title="File Transfer*"]				$flen
$fw [class="Galculator"]					$flen
$fw [class="Lightdm-gtk-greeter-settings"]	$flen
$fw [class="Manjaro-hello"]		 			$flen
$fw [title="MuseScore: Play Panel"]	 		$flen
$fw [class="Oblogout"]						$flen
$fw [class="octopi"]						$flen
$fw [class="Pavucontrol"]			 		$flen
$fw [class="Xfburn"]						$flen
$fw [class="i3bar"]							$flen

$fw [class="Calamares"]						$flen
$fw [class="GParted"]						$flen
$fw [title="i3_help"]						$flen
$fw [class="Lxappearance"]					$flen
$fw [class="Manjaro Settings Manager"]		$flen
$fw [class="Nitrogen"]						$flen
$fw [class="qt5ct"]			 				$flen
$fw [class="Qtconfig-qt4"]					$flen
$fw [class="Simple-scan"]					$flen
$fw [class="(?i)System-config-printer.py"]	$flen
$fw [class="Skype"]							$flen
$fw [class="Thus"]							$flen
$fw [class="Timeset-gui"]			 		$flen
$fw [class="(?i)virtualbox"]				$flen
$fw [class="matplotlib"]					$flen
$fw [class="Cam"]				 			$flen
$fw [class="Blueman-manager"]		 		$flen

$fw [class="Pavucontrol"]	$flen,resize set 525 300

# //// MARKED

$fw [con_mark=_sticky_1]				resize set $mediaw2 $mediah2

$fw [instance="MUSIC"]					$mrk1,$tf "ncmpcpp"
$fw [instance="MEDIA"]					$mrk2,$tf "media"
$fw [class="Vivaldi-stable" title="- Vivaldi$"]	$mrk3,$tf "vivaldi"

$fw [class="MPlayer"]					$mvm1
$fw [class="mpv"]						$mvm1,$stm1
$fw [class="feh"]						$mvm1
$fw [class="Sxiv"]						$mvm1
#$fw [window_role="pop-up"]				$mvm1

$fw [class="Surf"]						$mvm2
$fw [class="Zathura"]					$mvm2
$fw [class="MuPDF"]						$mvm2
$fw [class="Electron"]					$mvm2
$fw [window_role="GtkFileChooserDialog"]$mvm2
$fw [title="_popout="]					$mvm2,$tf "ytchat"
$fw [title="^localhost:8090$"]			$mvm2,$tf "mdpreview"
$fw [class="Shutter"]					$mvm2,$tf "snip-tool"

$fw [class="Gvim"]						$mvm3
$fw [class="Pamac-manager"]				$mvm3,$tf "software"
$fw [title="Google Chrome$"]			$mvm3,$tf "chrome"

$fw [instance="VIS"]					$tf "visualizer"
$fw [instance="URXVT"]					$tf "urxvt"
$fw [instance="RSS"]					$tf "newsboat"
$fw [instance="CALC"]					$tf "calculator"
$fw [class="Slack"]						$tf "slack"
$fw [title="^My Movies & TV"]			$tf "movies",$stm1
$fw [title="- Watch Series$"]			$tf "watch-series",$stm1
$fw [title="Log in with PayPal"]		$tf "paypal",$flen
$fw [instance="TERMINAL"]				$tf "terminal"
$fw [instance="CALENDAR"]				$tf "calendar"
$fw [instance="GRIVE"]					$tf "drive-sync"
$fw [instance="BIB"]					$tf "biblbiography"
$fw [title="YouTube$"]					$tf "youtube",$stm1
$fw [title="^BBC iPlayer$"]				$tf "iplayer",$stm1
$fw [title="^Netflix$"]					$tf "netflix",$stm1
$fw [title="^Funimation"]				$tf "funimation",$stm1
$fw [title="Amazon.co.uk: Prime Video"]	$tf "prime",$stm1
$fw [instance="RTV"]					$tf "reddit"
$fw [title="^MATLAB R20"]				$tf "matlab"
$fw [instance="i3MAIN"]					$tf "i3main"
$fw [instance="i3VARS"]					$tf "i3vars"
$fw [instance="VIMRC"]					$tf "vimrc"
$fw [instance="RCCONF"]					$tf "rcconf"
$fw [instance="i3BLOCKS"]				$tf "i3blocks"
$fw [instance="BASHMOUNT"]				$tf "bashmount"
$fw [instance="GITREPOUPDATE"]			$tf "git-sync"
$fw [instance="MOUNT"]					$tf "mount"
$fw [instance="UNMOUNT"]				$tf "unmount"

# >>>> GAPS
gaps inner 0
gaps outer 0

#workspace $ws2 gaps inner 0
#workspace $ws2 gaps outer 0

# >>>> STARTUP
# DAEMONS
$exn	urxvtd -q -o -f
$exn	/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
$exn	nm-applet
$exn	xfce4-power-manager
$exn	pamac-tray
$exn	clipit
$exn	blueman-applet
$exn	compton
$ena	ff-theme-util
$ena	fix_xcursor
$exn	feh --bg-fill ~/.config/wall.png
$exn	mpd
$exn	shutter --min_at_startup
$exn	setxkbmap $kb
$exs/i3listen-toggle

# PROGRAMS
$exn	i3-msg "workspace $ws1; append_layout $home/.config/i3/main.json"
$exn	$viva
$exn	$brow --new-window --app=https://www.youtube.com/
$ena	mpv $home/$scrmus/A\ Tone\ His\ Self.mp3
$ena	notify-send 'i3 (re)loaded!' -i ~/$scrpic/i3white.png

# vim:ft=i3
