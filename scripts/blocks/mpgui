#!/bin/bash

black=$(xrdb -query | grep '*color0' | awk '{print $NF}')
magenta=$(xrdb -query | grep '*color5' | awk '{print $NF}')

playername=$(mpris-ctl info "%player_name")
trackname=$(mpris-ctl info "%track_name")
artistname=$(mpris-ctl info "%artist_name")
playstatus=$(mpris-ctl info "%play_status")

playing="$playername: $trackname - $artistname"

if [ -z $playstatus ]; then
	:
elif [ $playstatus == "Paused" ]; then
	echo "<span background=\"$magenta\"> <span face='Font Awesome 5 Free'>&#xf28b;</span> ${playing:0:50} </span>"
else
	echo "<span background=\"$magenta\"> <span face='Font Awesome 5 Free'>&#xf144;</span> ${playing:0:50} </span>"
fi

case $BLOCK_BUTTON in
  3) playerctl previous ;;  # next song
  2) playerctl play-pause ;;  # next song
  1) playerctl next ;;  # next song
esac
