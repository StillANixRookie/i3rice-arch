#!/usr/bin/env bash

xfilesDir=$HOME/xrs

main () {
	cat ${xfilesDir}/colors/${theme} > ${xfilesDir}/theme
	$HOME/scr/reloadconfs
}

variant () {
	variant=$(echo -e "Main\nAlternate" | $HOME/scr/i3menu "Variant?:")
	if [[ ${variant} == "Alternate" ]]; then
		theme="${theme}_"
	else
		theme="${theme}"
	fi
	main
}

theme () {
	theme=$(ls ${xfilesDir}/colors | grep -v '_' | $HOME/scr/i3menu "Choose theme:")
	if [[ -z ${theme} ]]; then
		:
	elif [[ ! -f ${xfilesDir}/colors/${theme} ]]; then
		:
	elif [[ -f ${xfilesDir}/colors/${theme}_ ]]; then
		variant
	else
		main
	fi
}

theme
